{"createdAt":"2025-08-16T02:16:37.688Z","updatedAt":"2025-08-25T16:41:19.351Z","id":"Pp1TCxr6az0azNfG","name":"youtube","active":false,"isArchived":true,"nodes":[{"parameters":{"jsCode":"// Input: items[0].json.data = HTML chu·ªói\n// Output: items[0].json.text = chu·ªói ƒë·ªãnh d·∫°ng theo b·ªë c·ª•c y√™u c·∫ßu\n\nfunction decodeHtmlEntities(str) {\n  if (!str) return '';\n  str = str.replace(/&#(\\d+);/g, (_, code) => String.fromCharCode(parseInt(code, 10)));\n  str = str.replace(/&#x([0-9a-fA-F]+);/g, (_, code) => String.fromCharCode(parseInt(code, 16)));\n  const map = { '&nbsp;': ' ', '&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"', '&apos;': \"'\" };\n  return str.replace(/&[a-zA-Z]+;/g, m => map[m] || m);\n}\n\nfunction stripTags(str) {\n  return decodeHtmlEntities(String(str || '')\n    .replace(/<br\\s*\\/?>/gi, '\\n')\n    .replace(/<[^>]*>/g, ''))\n    .replace(/\\u00A0/g, ' ')\n    .trim();\n}\n\n// L·∫•y b·∫£ng <table class=\"table1\"> ƒë·∫ßu ti√™n trong HTML\nfunction firstTable1(html) {\n  const m = html.match(/<table[^>]*class=\"[^\"]*\\btable1\\b[^\"]*\"[^>]*>[\\s\\S]*?<\\/\\s*table\\s*>/i);\n  return m ? m[0] : '';\n}\n\n// B·∫Øt gi√° tr·ªã theo nh√£n b√™n tr√°i trong c√πng m·ªôt <tr>\nfunction textAfter(label, htmlScope) {\n  const re = new RegExp(\n    `<tr>\\\\s*<td[^>]*>\\\\s*${label}\\\\s*<\\\\/\\\\s*td\\\\s*>\\\\s*<td[^>]*>([\\\\s\\\\S]*?)<\\\\/\\\\s*td\\\\s*>\\\\s*<\\\\/\\\\s*tr\\\\s*>`,\n    'i'\n  );\n  const m = htmlScope.match(re);\n  return m ? stripTags(m[1]) : '';\n}\n\n// T√¨m table theo ti√™u ƒë·ªÅ h3/h2 g·∫ßn nh·∫•t (linh ho·∫°t)\nfunction extractTableByTitle(html, titleRegex) {\n  const re = new RegExp(\n    `<table[^>]*class=\"[^\"]*table1[^\"]*\"[^>]*>[\\\\s\\\\S]*?${titleRegex}[\\\\s\\\\S]*?<\\\\/\\\\s*table\\\\s*>`,\n    'i'\n  );\n  const m = html.match(re);\n  return m ? m[0] : '';\n}\n\nfunction extractRows3cols(tableHtml) {\n  const rows = [];\n  const trRe = /<tr>([\\s\\S]*?)<\\/\\s*tr\\s*>/gi;\n  let m;\n  while ((m = trRe.exec(tableHtml))) {\n    const tds = Array.from(m[1].matchAll(/<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>/gi)).map(x => stripTags(x[1]));\n    if (tds.length === 3) rows.push({ c1: tds[0], c2: tds[1], c3: tds[2] });\n  }\n  return rows;\n}\n\nfunction extractSectionByH3Title(html, title) {\n  const re = new RegExp(\n    `<table[^>]*class=\"[^\"]*table1[^\"]*\"[^>]*>[\\\\s\\\\S]*?<h3[^>]*>\\\\s*${title}\\\\s*<\\\\/\\\\s*h3\\\\s*>[\\\\s\\\\S]*?<\\\\/\\\\s*table\\\\s*>`,\n    'i'\n  );\n  const m = html.match(re);\n  return m ? m[0] : '';\n}\n\nfunction extractGioBlock(html, blockTitle) {\n  const tbl = extractSectionByH3Title(html, blockTitle);\n  const rows = extractRows3cols(tbl);\n  return rows.map(r => ({ time: r.c1, diaChi: r.c2, sao: r.c3 }));\n}\n\nfunction extractTuoiXungKhac(html) {\n  const sec = extractTableByTitle(html, /Tu·ªïi xung kh·∫Øc/i);\n  const body = stripTags(sec);\n  const xungNgay = (body.match(/Xung ng√†y:\\s*([^\\n]+)/i)?.[1] || '').split(/,\\s*/).filter(Boolean);\n  const xungThang = (body.match(/Xung th√°ng:\\s*([^\\n]+)/i)?.[1] || '').split(/,\\s*/).filter(Boolean);\n  return { xungNgay, xungThang };\n}\n\nfunction extractNgocHap(html) {\n  const goodTbl = extractTableByTitle(html, /Ng√†y t·ªët x·∫•u theo ng·ªçc h·∫°p th√¥ng th∆∞[\\s\\S]*?Sao t·ªët/i);\n  const good = [];\n  let m;\n  const trRe = /<tr>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<\\/\\s*tr\\s*>/gi;\n  while ((m = trRe.exec(goodTbl))) {\n    const left = stripTags(m[1]); const right = stripTags(m[2]);\n    if (/Sao t·ªët|Vi·ªác n√™n l√†m/i.test(left)) continue;\n    if (left && right) good.push({ sao: left, note: right });\n  }\n  const badTbl = extractTableByTitle(html, /Sao x·∫•u/i);\n  const bad = [];\n  let m2;\n  const trRe2 = /<tr>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<\\/\\s*tr\\s*>/gi;\n  while ((m2 = trRe2.exec(badTbl))) {\n    const left = stripTags(m2[1]); const right = stripTags(m2[2]);\n    if (/Sao x·∫•u|Vi·ªác n√™n k·ªµ/i.test(left)) continue;\n    if (left && right) bad.push({ sao: left, note: right });\n  }\n  return { good, bad };\n}\n\nfunction extractXuatHanh(html) {\n  const tbl = extractTableByTitle(html, /Ng√†y, gi·ªù, h∆∞·ªõng xu·∫•t h√†nh/i);\n  const text = stripTags(tbl);\n  const hy = (text.match(/H·ª∑ th·∫ßn[^:]*:\\s*H∆∞·ªõng\\s*([^\\n]+)/i)?.[1] || '').trim();\n  const tai = (text.match(/T√†i th·∫ßn[^:]*:\\s*H∆∞·ªõng\\s*([^\\n]+)/i)?.[1] || '').trim();\n  return { hy, tai };\n}\n\nfunction extractKhongMinh(html) {\n  const tbl = extractTableByTitle(html, /Ng√†y xu·∫•t h√†nh[^<]*theo Kh·ªïng Minh/i);\n  const body = stripTags(tbl);\n  const m = body.match(/([^\\n]+?)\\s*\\((T·ªêT|T·ªët|X·∫§U|X·∫•u)\\)\\s*([^\\n]+)/i);\n  if (m) return { ten: m[1].trim(), danhGia: m[2].toUpperCase(), moTa: m[3].trim() };\n  return { ten: '', danhGia: '', moTa: '' };\n}\n\nfunction extractLyThuanPhong(html) {\n  const all = [];\n  const secRe = /<div class=\"nam-xua-item-1s\">([\\s\\S]*?)<\\/\\s*div\\s*>\\s*<\\/\\s*div\\s*>/gi;\n  let m;\n  while ((m = secRe.exec(html))) {\n    const block = m[1];\n    const leftRaw = block.match(/<div[^>]*left-nam-xua[^>]*>[\\s\\S]*?<span[^>]*>([\\s\\S]*?)<\\/\\s*span\\s*>/i)?.[1] || '';\n    const right = block.match(/<div[^>]*right-nam-xua[^>]*>[\\s\\S]*?<\\/\\s*div\\s*>/i)?.[0] || '';\n    const times = stripTags(leftRaw).split(/\\s*\\n\\s*/).map(s => s.trim()).filter(Boolean);\n    const nhan = (right.match(/>\\s*([^:<]+):\\s*<span/i)?.[1] || '').trim();\n    const danhGia = (right.match(/(T·ªêT|X·∫§U)/i)?.[1] || '').toUpperCase();\n    all.push({ nhan, danhGia, times });\n  }\n  const tot = [];\n  const xau = [];\n  for (const it of all) {\n    if (it.danhGia === 'T·ªêT') tot.push(`${it.nhan} (${it.times.join(', ')})`);\n    else if (it.danhGia === 'X·∫§U') xau.push(`${it.nhan} (${it.times.join(', ')})`);\n  }\n  return { tot, xau };\n}\n\nfunction extractNguHanhTrachNhat(html) {\n  const tbl = extractTableByTitle(html, /Ng≈© h√†nh[^<]*\\(tr·∫°ch nh·∫≠t\\)/i);\n  const body = stripTags(tbl);\n  const nienMenh = (body.match(/Ng≈© h√†nh ni√™n m·ªánh:\\s*([^\\n]+)/i)?.[1] || '').trim();\n  const ngayCat = body.match(/ng√†y c√°t|\\(b·∫£o nh·∫≠t\\)/i) ? 'Ng√†y c√°t (b·∫£o nh·∫≠t)' : '';\n  const kyTuoiLine = (body.match(/k·ªã tu·ªïi:\\s*([^\\n]+)/i)?.[1] || '').trim();\n  const kyTuoi = kyTuoiLine ? kyTuoiLine.split(/,\\s*/).filter(Boolean) : [];\n  const hopXungLine = (body.match(/Ng√†y\\s+[^\\n]+/i)?.[0] || '').trim();\n  const tamSat = (body.match(/Tam S√°t k·ªã m·ªánh tu·ªïi\\s*:\\s*([^\\n]+)/i)?.[1] || '').trim();\n  return { nienMenh, ngayCat, kyTuoi, hopXungLine, tamSat };\n}\n\n// ---------- B·∫ÆT ƒê·∫¶U ----------\n// CH√ö √ù: Function node d√πng \"items\", KH√îNG d√πng $input/$('...') nh∆∞ Expression.\nconst html = String(items?.[0]?.json?.data || '');\n\n// L·∫•y b·∫£ng ƒë·∫ßu (th√¥ng tin ng√†y th√°ng‚Ä¶)\nconst infoTable = firstTable1(html);\n\n// C√°c tr∆∞·ªùng trong b·∫£ng ƒë·∫ßu\nconst duongLich = textAfter('D∆∞∆°ng l·ªãch', infoTable);\nconst amLich   = textAfter('√Çm l·ªãch', infoTable).replace(/\\s+/g, ' ').trim();\nconst canChi   = textAfter('Can chi', infoTable);\nconst nguHanh  = textAfter('Ng≈© h√†nh', infoTable);\nconst loaiNgay = textAfter('Ng√†y', infoTable);\nconst tietKhi  = stripTags(\n  (infoTable.match(/Ti·∫øt Kh√≠[\\s\\S]*?<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>/i)?.[1]) || ''\n);\n\n// Gi·ªù ho√†ng ƒë·∫°o / h·∫Øc ƒë·∫°o\nconst hoangDao = extractGioBlock(html, 'Gi·ªù Ho√†ng ƒë·∫°o');\nconst hacDao   = extractGioBlock(html, 'Gi·ªù H·∫Øc ƒë·∫°o');\n\n// Ng≈© h√†nh tr·∫°ch nh·∫≠t\nconst nh = extractNguHanhTrachNhat(html);\n\n// Tr·ª±c ng√†y\nconst trucTbl = extractTableByTitle(html, /Xem ng√†y t·ªët x·∫•u theo tr·ª±c/i);\nconst trucNgay = stripTags(trucTbl).replace(/Xem ng√†y t·ªët x·∫•u theo tr·ª±c/i, '').trim();\n\n// Tu·ªïi xung kh·∫Øc\nconst { xungNgay, xungThang } = extractTuoiXungKhac(html);\n\n// Ng·ªçc h·∫°p\nconst nhap = extractNgocHap(html);\n\n// Xu·∫•t h√†nh\nconst { hy, tai } = extractXuatHanh(html);\n\n// Kh·ªïng Minh\nconst km = extractKhongMinh(html);\n\n// L√Ω Thu·∫ßn Phong\nconst ltp = extractLyThuanPhong(html);\n\n// ---------- K·∫æT QU·∫¢ THEO B·ªê C·ª§C ----------\nconst text =\n`üóì Ng√†y th√°ng\n\nD∆∞∆°ng l·ªãch: ${duongLich || ''}\n√Çm l·ªãch: ${amLich || ''}\nCan chi: ${canChi || ''}\nNg≈© h√†nh: ${nguHanh || ''}\nNg√†y: ${loaiNgay || ''}\nTi·∫øt kh√≠: ${tietKhi || ''}\n\n‚è∞ Gi·ªù ho√†ng ƒë·∫°o ‚Äì h·∫Øc ƒë·∫°o\n\nGi·ªù Ho√†ng ƒë·∫°o (t·ªët):\n${hoangDao.map(x => `${x.time} (${x.diaChi} ‚Äì ${x.sao})`).join('\\n')}\n\nGi·ªù H·∫Øc ƒë·∫°o (x·∫•u):\n${hacDao.map(x => `${x.time} (${x.diaChi} ‚Äì ${x.sao})`).join('\\n')}\n\nüìú Ng≈© h√†nh (tr·∫°ch nh·∫≠t)\n\nNi√™n m·ªánh: ${nh.nienMenh || ''}\n${nh.ngayCat ? (nh.ngayCat[0].toUpperCase() + nh.ngayCat.slice(1)) : ''}\nK·ªµ tu·ªïi: ${nh.kyTuoi.join(', ') || ''}\nH·ª£p & xung: ${nh.hopXungLine || ''}\n${nh.tamSat ? `Tam S√°t k·ªµ m·ªánh tu·ªïi: ${nh.tamSat}` : ''}\n\nüìÖ Tr·ª±c ng√†y\n\n${trucNgay || ''}\n\n‚öñ Tu·ªïi xung kh·∫Øc\n\nXung ng√†y: ${xungNgay.join(', ') || ''}\nXung th√°ng: ${xungThang.join(', ') || ''}\n\nüí† Ng·ªçc h·∫°p th√¥ng th∆∞\n\nSao t·ªët:\n${nhap.good.map(g => `${g.sao}: ${g.note}`).join('\\n')}\n\nSao x·∫•u:\n${nhap.bad.map(b => `${b.sao}: ${b.note}`).join('\\n')}\n\nüß≠ Xu·∫•t h√†nh\n\nH·ª∑ th·∫ßn: ${hy ? `${hy} (t·ªët)` : ''}\nT√†i th·∫ßn: ${tai ? `${tai} (t·ªët)` : ''}\n\nNg√†y xu·∫•t h√†nh theo Kh·ªïng Minh:\n${km.ten ? `${km.ten} (${km.danhGia === 'T·ªêT' ? 'T·ªët' : 'X·∫•u'}) ‚Äì ${km.moTa}` : ''}\n\n‚è≥ Gi·ªù xu·∫•t h√†nh theo L√Ω Thu·∫ßn Phong\n\nX·∫•u: ${ltp.xau.join(', ')}\nT·ªët: ${ltp.tot.join(', ')}\n`.replace(/[ \\t]+\\n/g, '\\n').trim();\n\nreturn [{ json: { text } }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"72079ed7-334c-40c5-9185-5a23a080a520","name":"Code"},{"parameters":{"url":"https://lichngaytot.com/Ajax/DoiNgayAmDuongAjax?Date=15&Month=08&Year=2025&Type=1","sendHeaders":true,"headerParameters":{"parameters":[{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[208,0],"id":"19685993-7a58-4409-9e67-c60283190834","name":"amlich"},{"parameters":{"url":"https://lichngaytot.com/Ajax/DoiNgayAmDuongAjax?Date=15&Month=08&Year=2025&Type=0","sendHeaders":true,"headerParameters":{"parameters":[{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[208,144],"id":"1819b1fa-ab3b-40f1-a6c0-db48f60f9635","name":"amlich1"},{"parameters":{"jsCode":"// Input: items[0].json.data = HTML chu·ªói\n// Output: items[0].json.text = chu·ªói ƒë·ªãnh d·∫°ng theo b·ªë c·ª•c y√™u c·∫ßu\n\nfunction decodeHtmlEntities(str) {\n  if (!str) return '';\n  str = str.replace(/&#(\\d+);/g, (_, code) => String.fromCharCode(parseInt(code, 10)));\n  str = str.replace(/&#x([0-9a-fA-F]+);/g, (_, code) => String.fromCharCode(parseInt(code, 16)));\n  const map = { '&nbsp;': ' ', '&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"', '&apos;': \"'\" };\n  return str.replace(/&[a-zA-Z]+;/g, m => map[m] || m);\n}\n\nfunction stripTags(str) {\n  return decodeHtmlEntities(String(str || '')\n    .replace(/<br\\s*\\/?>/gi, '\\n')\n    .replace(/<[^>]*>/g, ''))\n    .replace(/\\u00A0/g, ' ')\n    .trim();\n}\n\n// L·∫•y b·∫£ng <table class=\"table1\"> ƒë·∫ßu ti√™n trong HTML\nfunction firstTable1(html) {\n  const m = html.match(/<table[^>]*class=\"[^\"]*\\btable1\\b[^\"]*\"[^>]*>[\\s\\S]*?<\\/\\s*table\\s*>/i);\n  return m ? m[0] : '';\n}\n\n// B·∫Øt gi√° tr·ªã theo nh√£n b√™n tr√°i trong c√πng m·ªôt <tr>\nfunction textAfter(label, htmlScope) {\n  const re = new RegExp(\n    `<tr>\\\\s*<td[^>]*>\\\\s*${label}\\\\s*<\\\\/\\\\s*td\\\\s*>\\\\s*<td[^>]*>([\\\\s\\\\S]*?)<\\\\/\\\\s*td\\\\s*>\\\\s*<\\\\/\\\\s*tr\\\\s*>`,\n    'i'\n  );\n  const m = htmlScope.match(re);\n  return m ? stripTags(m[1]) : '';\n}\n\n// T√¨m table theo ti√™u ƒë·ªÅ h3/h2 g·∫ßn nh·∫•t (linh ho·∫°t)\nfunction extractTableByTitle(html, titleRegex) {\n  const re = new RegExp(\n    `<table[^>]*class=\"[^\"]*table1[^\"]*\"[^>]*>[\\\\s\\\\S]*?${titleRegex}[\\\\s\\\\S]*?<\\\\/\\\\s*table\\\\s*>`,\n    'i'\n  );\n  const m = html.match(re);\n  return m ? m[0] : '';\n}\n\nfunction extractRows3cols(tableHtml) {\n  const rows = [];\n  const trRe = /<tr>([\\s\\S]*?)<\\/\\s*tr\\s*>/gi;\n  let m;\n  while ((m = trRe.exec(tableHtml))) {\n    const tds = Array.from(m[1].matchAll(/<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>/gi)).map(x => stripTags(x[1]));\n    if (tds.length === 3) rows.push({ c1: tds[0], c2: tds[1], c3: tds[2] });\n  }\n  return rows;\n}\n\nfunction extractSectionByH3Title(html, title) {\n  const re = new RegExp(\n    `<table[^>]*class=\"[^\"]*table1[^\"]*\"[^>]*>[\\\\s\\\\S]*?<h3[^>]*>\\\\s*${title}\\\\s*<\\\\/\\\\s*h3\\\\s*>[\\\\s\\\\S]*?<\\\\/\\\\s*table\\\\s*>`,\n    'i'\n  );\n  const m = html.match(re);\n  return m ? m[0] : '';\n}\n\nfunction extractGioBlock(html, blockTitle) {\n  const tbl = extractSectionByH3Title(html, blockTitle);\n  const rows = extractRows3cols(tbl);\n  return rows.map(r => ({ time: r.c1, diaChi: r.c2, sao: r.c3 }));\n}\n\nfunction extractTuoiXungKhac(html) {\n  const sec = extractTableByTitle(html, /Tu·ªïi xung kh·∫Øc/i);\n  const body = stripTags(sec);\n  const xungNgay = (body.match(/Xung ng√†y:\\s*([^\\n]+)/i)?.[1] || '').split(/,\\s*/).filter(Boolean);\n  const xungThang = (body.match(/Xung th√°ng:\\s*([^\\n]+)/i)?.[1] || '').split(/,\\s*/).filter(Boolean);\n  return { xungNgay, xungThang };\n}\n\nfunction extractNgocHap(html) {\n  const goodTbl = extractTableByTitle(html, /Ng√†y t·ªët x·∫•u theo ng·ªçc h·∫°p th√¥ng th∆∞[\\s\\S]*?Sao t·ªët/i);\n  const good = [];\n  let m;\n  const trRe = /<tr>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<\\/\\s*tr\\s*>/gi;\n  while ((m = trRe.exec(goodTbl))) {\n    const left = stripTags(m[1]); const right = stripTags(m[2]);\n    if (/Sao t·ªët|Vi·ªác n√™n l√†m/i.test(left)) continue;\n    if (left && right) good.push({ sao: left, note: right });\n  }\n  const badTbl = extractTableByTitle(html, /Sao x·∫•u/i);\n  const bad = [];\n  let m2;\n  const trRe2 = /<tr>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>\\s*<\\/\\s*tr\\s*>/gi;\n  while ((m2 = trRe2.exec(badTbl))) {\n    const left = stripTags(m2[1]); const right = stripTags(m2[2]);\n    if (/Sao x·∫•u|Vi·ªác n√™n k·ªµ/i.test(left)) continue;\n    if (left && right) bad.push({ sao: left, note: right });\n  }\n  return { good, bad };\n}\n\nfunction extractXuatHanh(html) {\n  const tbl = extractTableByTitle(html, /Ng√†y, gi·ªù, h∆∞·ªõng xu·∫•t h√†nh/i);\n  const text = stripTags(tbl);\n  const hy = (text.match(/H·ª∑ th·∫ßn[^:]*:\\s*H∆∞·ªõng\\s*([^\\n]+)/i)?.[1] || '').trim();\n  const tai = (text.match(/T√†i th·∫ßn[^:]*:\\s*H∆∞·ªõng\\s*([^\\n]+)/i)?.[1] || '').trim();\n  return { hy, tai };\n}\n\nfunction extractKhongMinh(html) {\n  const tbl = extractTableByTitle(html, /Ng√†y xu·∫•t h√†nh[^<]*theo Kh·ªïng Minh/i);\n  const body = stripTags(tbl);\n  const m = body.match(/([^\\n]+?)\\s*\\((T·ªêT|T·ªët|X·∫§U|X·∫•u)\\)\\s*([^\\n]+)/i);\n  if (m) return { ten: m[1].trim(), danhGia: m[2].toUpperCase(), moTa: m[3].trim() };\n  return { ten: '', danhGia: '', moTa: '' };\n}\n\nfunction extractLyThuanPhong(html) {\n  const all = [];\n  const secRe = /<div class=\"nam-xua-item-1s\">([\\s\\S]*?)<\\/\\s*div\\s*>\\s*<\\/\\s*div\\s*>/gi;\n  let m;\n  while ((m = secRe.exec(html))) {\n    const block = m[1];\n    const leftRaw = block.match(/<div[^>]*left-nam-xua[^>]*>[\\s\\S]*?<span[^>]*>([\\s\\S]*?)<\\/\\s*span\\s*>/i)?.[1] || '';\n    const right = block.match(/<div[^>]*right-nam-xua[^>]*>[\\s\\S]*?<\\/\\s*div\\s*>/i)?.[0] || '';\n    const times = stripTags(leftRaw).split(/\\s*\\n\\s*/).map(s => s.trim()).filter(Boolean);\n    const nhan = (right.match(/>\\s*([^:<]+):\\s*<span/i)?.[1] || '').trim();\n    const danhGia = (right.match(/(T·ªêT|X·∫§U)/i)?.[1] || '').toUpperCase();\n    all.push({ nhan, danhGia, times });\n  }\n  const tot = [];\n  const xau = [];\n  for (const it of all) {\n    if (it.danhGia === 'T·ªêT') tot.push(`${it.nhan} (${it.times.join(', ')})`);\n    else if (it.danhGia === 'X·∫§U') xau.push(`${it.nhan} (${it.times.join(', ')})`);\n  }\n  return { tot, xau };\n}\n\nfunction extractNguHanhTrachNhat(html) {\n  const tbl = extractTableByTitle(html, /Ng≈© h√†nh[^<]*\\(tr·∫°ch nh·∫≠t\\)/i);\n  const body = stripTags(tbl);\n  const nienMenh = (body.match(/Ng≈© h√†nh ni√™n m·ªánh:\\s*([^\\n]+)/i)?.[1] || '').trim();\n  const ngayCat = body.match(/ng√†y c√°t|\\(b·∫£o nh·∫≠t\\)/i) ? 'Ng√†y c√°t (b·∫£o nh·∫≠t)' : '';\n  const kyTuoiLine = (body.match(/k·ªã tu·ªïi:\\s*([^\\n]+)/i)?.[1] || '').trim();\n  const kyTuoi = kyTuoiLine ? kyTuoiLine.split(/,\\s*/).filter(Boolean) : [];\n  const hopXungLine = (body.match(/Ng√†y\\s+[^\\n]+/i)?.[0] || '').trim();\n  const tamSat = (body.match(/Tam S√°t k·ªã m·ªánh tu·ªïi\\s*:\\s*([^\\n]+)/i)?.[1] || '').trim();\n  return { nienMenh, ngayCat, kyTuoi, hopXungLine, tamSat };\n}\n\n// ---------- B·∫ÆT ƒê·∫¶U ----------\n// CH√ö √ù: Function node d√πng \"items\", KH√îNG d√πng $input/$('...') nh∆∞ Expression.\nconst html = String(items?.[0]?.json?.data || '');\n\n// L·∫•y b·∫£ng ƒë·∫ßu (th√¥ng tin ng√†y th√°ng‚Ä¶)\nconst infoTable = firstTable1(html);\n\n// C√°c tr∆∞·ªùng trong b·∫£ng ƒë·∫ßu\nconst duongLich = textAfter('D∆∞∆°ng l·ªãch', infoTable);\nconst amLich   = textAfter('√Çm l·ªãch', infoTable).replace(/\\s+/g, ' ').trim();\nconst canChi   = textAfter('Can chi', infoTable);\nconst nguHanh  = textAfter('Ng≈© h√†nh', infoTable);\nconst loaiNgay = textAfter('Ng√†y', infoTable);\nconst tietKhi  = stripTags(\n  (infoTable.match(/Ti·∫øt Kh√≠[\\s\\S]*?<td[^>]*>([\\s\\S]*?)<\\/\\s*td\\s*>/i)?.[1]) || ''\n);\n\n// Gi·ªù ho√†ng ƒë·∫°o / h·∫Øc ƒë·∫°o\nconst hoangDao = extractGioBlock(html, 'Gi·ªù Ho√†ng ƒë·∫°o');\nconst hacDao   = extractGioBlock(html, 'Gi·ªù H·∫Øc ƒë·∫°o');\n\n// Ng≈© h√†nh tr·∫°ch nh·∫≠t\nconst nh = extractNguHanhTrachNhat(html);\n\n// Tr·ª±c ng√†y\nconst trucTbl = extractTableByTitle(html, /Xem ng√†y t·ªët x·∫•u theo tr·ª±c/i);\nconst trucNgay = stripTags(trucTbl).replace(/Xem ng√†y t·ªët x·∫•u theo tr·ª±c/i, '').trim();\n\n// Tu·ªïi xung kh·∫Øc\nconst { xungNgay, xungThang } = extractTuoiXungKhac(html);\n\n// Ng·ªçc h·∫°p\nconst nhap = extractNgocHap(html);\n\n// Xu·∫•t h√†nh\nconst { hy, tai } = extractXuatHanh(html);\n\n// Kh·ªïng Minh\nconst km = extractKhongMinh(html);\n\n// L√Ω Thu·∫ßn Phong\nconst ltp = extractLyThuanPhong(html);\n\n// ---------- K·∫æT QU·∫¢ THEO B·ªê C·ª§C ----------\nconst text =\n`üóì Ng√†y th√°ng\n\nD∆∞∆°ng l·ªãch: ${duongLich || ''}\n√Çm l·ªãch: ${amLich || ''}\nCan chi: ${canChi || ''}\nNg≈© h√†nh: ${nguHanh || ''}\nNg√†y: ${loaiNgay || ''}\nTi·∫øt kh√≠: ${tietKhi || ''}\n\n‚è∞ Gi·ªù ho√†ng ƒë·∫°o ‚Äì h·∫Øc ƒë·∫°o\n\nGi·ªù Ho√†ng ƒë·∫°o (t·ªët):\n${hoangDao.map(x => `${x.time} (${x.diaChi} ‚Äì ${x.sao})`).join('\\n')}\n\nGi·ªù H·∫Øc ƒë·∫°o (x·∫•u):\n${hacDao.map(x => `${x.time} (${x.diaChi} ‚Äì ${x.sao})`).join('\\n')}\n\nüìú Ng≈© h√†nh (tr·∫°ch nh·∫≠t)\n\nNi√™n m·ªánh: ${nh.nienMenh || ''}\n${nh.ngayCat ? (nh.ngayCat[0].toUpperCase() + nh.ngayCat.slice(1)) : ''}\nK·ªµ tu·ªïi: ${nh.kyTuoi.join(', ') || ''}\nH·ª£p & xung: ${nh.hopXungLine || ''}\n${nh.tamSat ? `Tam S√°t k·ªµ m·ªánh tu·ªïi: ${nh.tamSat}` : ''}\n\nüìÖ Tr·ª±c ng√†y\n\n${trucNgay || ''}\n\n‚öñ Tu·ªïi xung kh·∫Øc\n\nXung ng√†y: ${xungNgay.join(', ') || ''}\nXung th√°ng: ${xungThang.join(', ') || ''}\n\nüí† Ng·ªçc h·∫°p th√¥ng th∆∞\n\nSao t·ªët:\n${nhap.good.map(g => `${g.sao}: ${g.note}`).join('\\n')}\n\nSao x·∫•u:\n${nhap.bad.map(b => `${b.sao}: ${b.note}`).join('\\n')}\n\nüß≠ Xu·∫•t h√†nh\n\nH·ª∑ th·∫ßn: ${hy ? `${hy} (t·ªët)` : ''}\nT√†i th·∫ßn: ${tai ? `${tai} (t·ªët)` : ''}\n\nNg√†y xu·∫•t h√†nh theo Kh·ªïng Minh:\n${km.ten ? `${km.ten} (${km.danhGia === 'T·ªêT' ? 'T·ªët' : 'X·∫•u'}) ‚Äì ${km.moTa}` : ''}\n\n‚è≥ Gi·ªù xu·∫•t h√†nh theo L√Ω Thu·∫ßn Phong\n\nX·∫•u: ${ltp.xau.join(', ')}\nT·ªët: ${ltp.tot.join(', ')}\n`.replace(/[ \\t]+\\n/g, '\\n').trim();\n\nreturn [{ json: { text } }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,144],"id":"9ce0e47e-86be-46b5-84df-2d089b7556ad","name":"Code1"},{"parameters":{"documentId":{"__rl":true,"value":"17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU","mode":"list","cachedResultName":"T·∫†O H√åNH ·∫¢NH CHATGPT - HEO","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":747727828,"mode":"list","cachedResultName":"SHOP","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit#gid=747727828"},"filtersUI":{"values":[{"lookupColumn":"Tr·∫°ng th√°i","lookupValue":"T·∫°o H√¨nh"}]},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[-4176,-16],"id":"883535a7-1254-4f0e-895f-7d27c3d19ecf","name":"Google Sheets4"},{"parameters":{"amount":30},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[-4160,848],"id":"d0733285-ec02-40be-ac06-8416d5946a1b","name":"Wait","webhookId":"5f8f3725-e376-49b3-b16a-7177cf161909"},{"parameters":{"assignments":{"assignments":[{"id":"1816f4ba-638b-43ff-96ee-53673c016183","name":"url_image","value":"={{ $('Loop Over Items').item.json['Link ·∫¢nh'] }}","type":"string"},{"id":"e1074a63-6710-40d2-bf0f-8c9f6c2aee50","name":"Prompt","value":"={{ $('Loop Over Items').item.json.Prompt }}","type":"string"},{"id":"214fcd38-939f-4ba5-9db7-2604c989c175","name":"row_number","value":"={{ $('Loop Over Items').item.json.row_number }}","type":"number"},{"id":"6417cc2d-6615-47f7-9e07-7f157b880823","name":"faceLink","value":"={{ $json.faceLink }}","type":"string"},{"id":"99572ce8-d5b0-4fd7-845a-e8c2d44e0e29","name":"ID","value":"={{ $json.ID }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-4624,672],"id":"a847c3fe-87ef-4494-83a5-f1a8df291c12","name":"Get Url Image","executeOnce":false},{"parameters":{"method":"POST","url":"http://localhost:5001/open_chat","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"{\n    \"chat_id\": \"g-682fcdc7632881918b818842888578b9-chuyen-gia-hinh-anh\"\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-4592,-16],"id":"888fc91f-00e4-4df5-b4d6-e16b3851355c","name":"M·ªü Chat","executeOnce":true},{"parameters":{"method":"POST","url":"http://localhost:5001/interact","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n    \"message\": \"T·∫°o h√¨nh ·∫£nh, kh√¥ng h·ªèi l·∫°i theo prompt n√†y: {{ $('Get Url Image').item.json.Prompt }}\",\n    \"image_path\": [\"{{ $('Get Url Image').item.json.url_image }}\",\"{{ $('Get Url Image').item.json.faceLink }}\"]\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-4384,880],"id":"ecd960c9-bc7c-4929-a264-dc73c28d3f5e","name":"T·∫°o ·∫¢nh","executeOnce":true,"retryOnFail":true,"waitBetweenTries":5000,"onError":"continueRegularOutput"},{"parameters":{"method":"POST","url":"http://localhost:5001/check_image_generation","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={  \n    \"timeout\": 30,\n    \"check_interval\": 2\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-3936,848],"id":"52c96af6-279b-48ea-81f8-996b5fab405a","name":"L·∫•y k·∫øt qu·∫£","executeOnce":true,"retryOnFail":true,"waitBetweenTries":5000},{"parameters":{"url":"={{ $json.details.images.urls[0] }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-3712,320],"id":"daa0fc21-e883-4051-b389-2092cb5df7bd","name":"HTTP Request BINARY","executeOnce":true,"onError":"continueRegularOutput"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-2976,48],"id":"1e3d1db2-f315-49b0-ab75-1f46287a7190","name":"Google Drive3"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[-4400,-16],"id":"a992bf45-d551-4fb4-85fa-4884723f0c13","name":"Wait1","webhookId":"9c5245da-581b-4d0d-9022-3b88cd2c3178"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[-5024,528],"id":"ea08a50a-805c-46fc-994b-509a347d3817","name":"Loop Over Items"},{"parameters":{},"type":"n8n-nodes-base.noOp","name":"Replace Me","typeVersion":1,"position":[-1824,640],"id":"8434b33e-b9ed-43e9-ad60-a5788e0ca023"},{"parameters":{"httpMethod":"POST","path":"sendToWebhookTaoAnh","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-4832,-16],"id":"79f97807-2f07-4dd1-88ca-e1502211d957","name":"Webhook1","webhookId":"c3643626-e2b0-4c83-b654-395bdd8ecee8"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $('Loop Over Items').item.json['DANH M·ª§C'] }}","rightValue":"SHOP DAU","operator":{"type":"string","operation":"equals"},"id":"8d711598-3df2-44a6-888a-76502b899bb2"}],"combinator":"and"}},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"e66776c2-24b3-46c2-a6d5-f6c910a3703c","leftValue":"={{ $('Loop Over Items').item.json['DANH M·ª§C'] }}","rightValue":"SHOP ME BE","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"}},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"48b1bf97-6203-4ffe-a34a-62000497ac52","leftValue":"={{ $('Loop Over Items').item.json['DANH M·ª§C'] }}","rightValue":"SHOP TINA","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"}}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-3504,256],"id":"41424b2f-3c69-47af-8d80-3d8efe2507c9","name":"Switch"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1s_wZOaQy0ZWqqhg2bRuDJ7XXfRfyH4Kw","mode":"list","cachedResultName":"SHOP DAU - XONG","cachedResultUrl":"https://drive.google.com/drive/folders/1s_wZOaQy0ZWqqhg2bRuDJ7XXfRfyH4Kw"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-3200,48],"id":"0b91ff01-3be7-4d11-9c09-92d12554e0f8","name":"SHOP DAU - XONG","onError":"continueRegularOutput"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1QFPf79fK5YyI_gcNLn5bQO-fKXGt4qWS","mode":"list","cachedResultName":"SHOP ME BE - XONG","cachedResultUrl":"https://drive.google.com/drive/folders/1QFPf79fK5YyI_gcNLn5bQO-fKXGt4qWS"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-3200,256],"id":"9ec2fd82-3e28-437c-9125-3fdba93a1e6c","name":"SHOP ME BE - XONG"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"15XDJJ95r6a04_ZAawJLmge1LuJZ-4pK3","mode":"list","cachedResultName":"SHOP TINA -  XONG","cachedResultUrl":"https://drive.google.com/drive/folders/15XDJJ95r6a04_ZAawJLmge1LuJZ-4pK3"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-3200,448],"id":"65b771b0-0774-4f57-b7ad-6247df651674","name":"SHOP TINA - XONG"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{  $json.id  }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-2976,256],"id":"b471f2be-8243-4fe3-be18-e8f1a72dc6dc","name":"Google Drive"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-2976,448],"id":"fded85ea-9a1e-4ec3-905a-09de9e963286","name":"Google Drive2"},{"parameters":{"operation":"update","documentId":{"__rl":true,"value":"17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU","mode":"list","cachedResultName":"T·∫†O H√åNH ·∫¢NH CHATGPT - HEO","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":747727828,"mode":"list","cachedResultName":"SHOP","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit#gid=747727828"},"columns":{"mappingMode":"defineBelow","value":{"row_number":"={{ $('Get Url Image').item.json.row_number }}","Tr·∫°ng th√°i":"Th√†nh C√¥ng","Thumnail OK":"==IMAGE(\"{{ $('SHOP DAU - XONG').item.json.thumbnailLink }}\")","Link K·∫øt qu·∫£":"={{ $('SHOP DAU - XONG').item.json.webContentLink }}"},"matchingColumns":["row_number"],"schema":[{"id":"ID","displayName":"ID","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Link ·∫¢nh","displayName":"Link ·∫¢nh","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail","displayName":"Thumnail","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"DANH M·ª§C","displayName":"DANH M·ª§C","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Prompt","displayName":"Prompt","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"SEX","displayName":"SEX","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Tu·ªïi","displayName":"Tu·ªïi","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"faceLink","displayName":"faceLink","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Link K·∫øt qu·∫£","displayName":"Link K·∫øt qu·∫£","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail OK","displayName":"Thumnail OK","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Tr·∫°ng th√°i","displayName":"Tr·∫°ng th√°i","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"AUDIO","displayName":"AUDIO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"row_number","displayName":"row_number","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"readOnly":true,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[-2784,48],"id":"7bdf68e5-0b6c-4b1c-9612-b5fff32bb010","name":"SHOP DAU"},{"parameters":{"operation":"update","documentId":{"__rl":true,"value":"17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU","mode":"list","cachedResultName":"T·∫†O H√åNH ·∫¢NH CHATGPT - HEO","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":747727828,"mode":"list","cachedResultName":"SHOP","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit#gid=747727828"},"columns":{"mappingMode":"defineBelow","value":{"row_number":"={{ $('Get Url Image').item.json.row_number }}","Link K·∫øt qu·∫£":"={{ $('SHOP TINA - XONG').item.json.webContentLink }}","Thumnail OK":"==IMAGE(\"{{ $('SHOP TINA - XONG').item.json.thumbnailLink }}\")","Tr·∫°ng th√°i":"Th√†nh C√¥ng"},"matchingColumns":["row_number"],"schema":[{"id":"ID","displayName":"ID","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Link ·∫¢nh","displayName":"Link ·∫¢nh","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail","displayName":"Thumnail","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"DANH M·ª§C","displayName":"DANH M·ª§C","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Prompt","displayName":"Prompt","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"SEX","displayName":"SEX","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Tu·ªïi","displayName":"Tu·ªïi","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"faceLink","displayName":"faceLink","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Link K·∫øt qu·∫£","displayName":"Link K·∫øt qu·∫£","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail OK","displayName":"Thumnail OK","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Tr·∫°ng th√°i","displayName":"Tr·∫°ng th√°i","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"AUDIO","displayName":"AUDIO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"row_number","displayName":"row_number","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"readOnly":true,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[-2784,448],"id":"9aabed64-9e3e-43bf-a9ac-82fef1bf9e63","name":"SHOP TINA1"},{"parameters":{"jsCode":"return items\n  .filter(item => {\n    const { [\"DANH M·ª§C\"]: danhMuc, Prompt: prompt } = item.json;\n\n    return (\n      String(danhMuc || \"\").trim() !== \"\" &&\n      String(prompt || \"\").trim() !== \"\"\n    );\n  })\n  .map(item => {\n    const escapedPrompt = String(item.json.Prompt || \"\").replace(/\"/g, '\\\\\"');\n\n    return {\n      json: {\n        ...item.json,\n        Prompt: escapedPrompt,\n      }\n    };\n  });\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-3952,-16],"id":"b2b5cabc-6fe5-47a9-8487-1e11287fc79c","name":"Code6"},{"parameters":{"operation":"update","documentId":{"__rl":true,"value":"17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU","mode":"list","cachedResultName":"T·∫†O H√åNH ·∫¢NH CHATGPT - HEO","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":747727828,"mode":"list","cachedResultName":"SHOP","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit#gid=747727828"},"columns":{"mappingMode":"defineBelow","value":{"row_number":"={{ $('Get Url Image').item.json.row_number }}","Link K·∫øt qu·∫£":"={{ $('SHOP ME BE - XONG').item.json.webViewLink }}","Thumnail OK":"==IMAGE(\"{{ $('SHOP ME BE - XONG').item.json.thumbnailLink }}\")","Tr·∫°ng th√°i":"Th√†nh C√¥ng"},"matchingColumns":["row_number"],"schema":[{"id":"ID","displayName":"ID","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Link ·∫¢nh","displayName":"Link ·∫¢nh","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail","displayName":"Thumnail","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"DANH M·ª§C","displayName":"DANH M·ª§C","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Prompt","displayName":"Prompt","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"SEX","displayName":"SEX","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Tu·ªïi","displayName":"Tu·ªïi","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"faceLink","displayName":"faceLink","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Link K·∫øt qu·∫£","displayName":"Link K·∫øt qu·∫£","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail OK","displayName":"Thumnail OK","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Tr·∫°ng th√°i","displayName":"Tr·∫°ng th√°i","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"AUDIO","displayName":"AUDIO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"row_number","displayName":"row_number","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"readOnly":true,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[-2784,256],"id":"5414e4c1-7aef-4d4b-8c57-9b262dbe0d2f","name":"SHOP ME BE2"},{"parameters":{"operation":"update","documentId":{"__rl":true,"value":"17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU","mode":"list","cachedResultName":"T·∫†O H√åNH ·∫¢NH CHATGPT - HEO","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":747727828,"mode":"list","cachedResultName":"SHOP","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit#gid=747727828"},"columns":{"mappingMode":"defineBelow","value":{"row_number":"={{ $json.row_number }}","Link K·∫øt qu·∫£":"‚è≥ ƒêang t·∫°o ·∫£nh..."},"matchingColumns":["row_number"],"schema":[{"id":"ID","displayName":"ID","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Link ·∫¢nh","displayName":"Link ·∫¢nh","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail","displayName":"Thumnail","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"DANH M·ª§C","displayName":"DANH M·ª§C","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Prompt","displayName":"Prompt","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"SEX","displayName":"SEX","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Tu·ªïi","displayName":"Tu·ªïi","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Link K·∫øt qu·∫£","displayName":"Link K·∫øt qu·∫£","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Thumnail OK","displayName":"Thumnail OK","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Tr·∫°ng th√°i","displayName":"Tr·∫°ng th√°i","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"AUDIO","displayName":"AUDIO","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"row_number","displayName":"row_number","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"readOnly":true,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[-4400,688],"id":"760d6e5b-5a7b-4a65-9ead-fbffe94450a2","name":"Th√¥ng b√°o t·∫°o ·∫£nh"},{"parameters":{"promptType":"define","text":"=messages:\n  - role: user\n    parts:\n      - danh m·ª•c: {{ $json[\"DANH M·ª§C\"] }}\n        gi·ªõi t√≠nh: {{ $json[\"SEX\"] }}","options":{"systemMessage":"=B·∫°n l√† AI h·ªó tr·ª£ ch·ªçn khu√¥n m·∫∑t ph√π h·ª£p ƒë·ªÉ t·∫°o ·∫£nh.  \nD·ª±a tr√™n ƒë·∫ßu v√†o g·ªìm:\n\n- `danh m·ª•c`: t√™n shop (v√≠ d·ª•: SHOP ME BE)\n- `gi·ªõi t√≠nh`: v√≠ d·ª• \"B√© g√°i\", \"Nam\", \"Con trai\", \"N·ªØ\",...\n\nB·∫°n c·∫ßn:\n\n1. D√πng b·∫£ng d·ªØ li·ªáu c·ªë ƒë·ªãnh t√™n l√† \"Link Face\", g·ªìm nhi·ªÅu d√≤ng, m·ªói d√≤ng c√≥:\n   - `SHOP`\n   - `FACE NAM`\n   - `FACE NU`\n   - `prompt`\n\n2. So s√°nh t√™n shop v√† gi·ªõi t√≠nh trong sheet \"Link Face\" ƒë·ªÉ:\n   - T√¨m ƒë√∫ng d√≤ng SHOP kh·ªõp v·ªõi `danh m·ª•c`\n   - Ch·ªçn ƒë√∫ng `FACE NU` n·∫øu l√† n·ªØ / b√© g√°i, ho·∫∑c `FACE NAM` n·∫øu l√† nam / b√© trai\n   - L·∫•y prompt m·∫´u t·ª´ d√≤ng ƒë√≥\n\n3. Tr·∫£ v·ªÅ JSON chu·∫©n nh∆∞ sau:\n\n```json\n{\n  \"face_link\": \"l·∫•y gi√° tr·ªã 'FACE NAM' ho·∫∑c 'FACE NU' trong Sheet 'Link Face' \"\n}"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[-4512,272],"id":"288b0bd1-28e8-4682-a16c-00b359bb7d0c","name":"AI Agent1"},{"parameters":{"modelName":"models/gemini-2.0-flash-001","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[-4576,480],"id":"9c3e0bed-1a42-4a51-b5d8-426fd5d038e5","name":"Google Gemini Chat Model2"},{"parameters":{"documentId":{"__rl":true,"value":"17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU","mode":"list","cachedResultName":"T·∫†O H√åNH ·∫¢NH CHATGPT - HEO","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":1434144374,"mode":"list","cachedResultName":"NOTE","cachedResultUrl":"https://docs.google.com/spreadsheets/d/17RZ1emGeV8gkiBhr_Mub8O9WTL9-TMAyimGg0TX48aU/edit#gid=1434144374"},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.5,"position":[-4384,496],"id":"9f9cc4fd-7e86-4674-8381-000b99df6669","name":"Link Face"},{"parameters":{},"type":"n8n-nodes-base.noOp","name":"Replace Me3","typeVersion":1,"position":[-3456,960],"id":"2b3171c8-3875-4ec0-bc17-e36682f59e61"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.status }}","rightValue":"processing","operator":{"type":"string","operation":"equals"},"id":"12478994-fbc5-4c53-857c-df76af2fe192"}],"combinator":"and"}},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"c7edfe97-a7bf-4039-964a-300cb4343a39","leftValue":"={{ $json.details.images.urls }}","rightValue":"","operator":{"type":"array","operation":"notEmpty","singleValue":true}}],"combinator":"and"}},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"d07b49db-4fd8-4f81-92ea-22841eaf28a9","leftValue":"={{ $json.details.images.urls }}","rightValue":"","operator":{"type":"array","operation":"empty","singleValue":true}}],"combinator":"and"}}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-3712,848],"id":"ace6d919-e9c6-4a21-94b6-88090f22e0b8","name":"Switch1"},{"parameters":{"method":"POST","url":"https://api.telegram.org/bot8009301933:AAHCu9rG4u8W4sRSNa7kjyHVR5_BRFXOfg0/sendPhoto","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"chat_id","value":"-4922886378"},{"parameterType":"formBinaryData","name":"photo","inputDataFieldName":"data"},{"name":"caption","value":"‚è≥ ƒêang t·∫°o ·∫£nh... üöß Ch·ªù k·∫øt qu·∫£..."},{"name":"parse_mode","value":"Markdown"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-4016,688],"id":"45d779d2-2423-4388-aa8f-b152d46502c7","name":"Th√¥ng b√°o ƒêang t·∫°o ·∫£nh","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"url":"={{ 'https://drive.google.com/uc?export=download&id=' + $('Get Url Image').item.json.ID }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-4160,672],"id":"6e42c524-eeef-4046-a45b-686b1db7f5c2","name":"binary data"},{"parameters":{"method":"POST","url":"https://api.telegram.org/bot8009301933:AAHCu9rG4u8W4sRSNa7kjyHVR5_BRFXOfg0/sendPhoto","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"chat_id","value":"-4922886378"},{"parameterType":"formBinaryData","name":"photo","inputDataFieldName":"data"},{"name":"caption","value":"‚úÖ ƒê√£ t·∫°o xong ·∫£nh üöß c·ªßa SHOP DAU"},{"name":"parse_mode","value":"Markdown"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2336,-32],"id":"01594dff-b420-4066-b643-490ce55fb440","name":"t·∫°o xong SHOP DAU","retryOnFail":true},{"parameters":{"method":"POST","url":"https://api.telegram.org/bot8009301933:AAHCu9rG4u8W4sRSNa7kjyHVR5_BRFXOfg0/sendPhoto","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"chat_id","value":"-4922886378"},{"parameterType":"formBinaryData","name":"photo","inputDataFieldName":"data"},{"name":"caption","value":"‚úÖ ƒê√£ t·∫°o xong ·∫£nh üöß c·ªßa SHOP ME BE"},{"name":"parse_mode","value":"Markdown"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2336,208],"id":"d63b5908-197b-49b5-8c9b-24633571b653","name":"Tao xong SHOP ME BE","retryOnFail":true},{"parameters":{"method":"POST","url":"https://api.telegram.org/bot8009301933:AAHCu9rG4u8W4sRSNa7kjyHVR5_BRFXOfg0/sendPhoto","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"chat_id","value":"-4922886378"},{"parameterType":"formBinaryData","name":"photo","inputDataFieldName":"data"},{"name":"caption","value":"‚úÖ ƒê√£ t·∫°o xong ·∫£nh üöß c·ªßa SHOP TINA"},{"name":"parse_mode","value":"Markdown"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2336,448],"id":"ecbd240a-5ebd-4488-a742-efca725121b8","name":"Tao xong SHOP TINA","retryOnFail":true},{"parameters":{"url":"={{ $('SHOP DAU - XONG').item.json.webContentLink }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2512,-32],"id":"93da236b-fe30-4cb4-893e-ad1c11e94260","name":"HTTP Request1"},{"parameters":{"url":"={{ $('SHOP ME BE - XONG').item.json.webViewLink }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2512,192],"id":"c1f80bbe-7d82-494f-b21a-e5c69fb25827","name":"HTTP Request2"},{"parameters":{"url":"={{ $('SHOP TINA - XONG').item.json.webContentLink }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2032,416],"id":"50a395c6-4eb2-40cb-a2db-17a53eb4848a","name":"HTTP Request3"},{"parameters":{"url":"={{ 'https://drive.google.com/uc?export=download&id=' + $('Get Url Image').item.json.ID }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2976,912],"id":"1b931f4e-b24c-41bb-a087-e45009a46811","name":"binary data1"},{"parameters":{"method":"POST","url":"https://api.telegram.org/bot8009301933:AAHCu9rG4u8W4sRSNa7kjyHVR5_BRFXOfg0/sendPhoto","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"chat_id","value":"-4922886378"},{"parameterType":"formBinaryData","name":"photo","inputDataFieldName":"data"},{"name":"caption","value":"‚ö†Ô∏è T·∫°o h√¨nh l·ªói r·ªìi üöß T·∫°o l·∫°i sau"},{"name":"parse_mode","value":"Markdown"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2800,912],"id":"b55e6f84-3a2b-4770-ba89-53a00b441223","name":"Th√¥ng b√°o T·∫†O H√åNH L·ªñi","retryOnFail":true}],"connections":{"amlich":{"main":[[{"node":"Code","type":"main","index":0}]]},"amlich1":{"main":[[{"node":"Code1","type":"main","index":0}]]},"Google Sheets4":{"main":[[{"node":"Code6","type":"main","index":0}]]},"Wait":{"main":[[{"node":"L·∫•y k·∫øt qu·∫£","type":"main","index":0}]]},"Get Url Image":{"main":[[{"node":"T·∫°o ·∫¢nh","type":"main","index":0},{"node":"Th√¥ng b√°o t·∫°o ·∫£nh","type":"main","index":0}]]},"M·ªü Chat":{"main":[[{"node":"Wait1","type":"main","index":0}]]},"T·∫°o ·∫¢nh":{"main":[[{"node":"Wait","type":"main","index":0}]]},"L·∫•y k·∫øt qu·∫£":{"main":[[{"node":"Switch1","type":"main","index":0}]]},"HTTP Request BINARY":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Google Drive3":{"main":[[{"node":"SHOP DAU","type":"main","index":0}]]},"Wait1":{"main":[[{"node":"Google Sheets4","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Get Url Image","type":"main","index":0}]]},"Replace Me":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Webhook1":{"main":[[{"node":"M·ªü Chat","type":"main","index":0}]]},"Switch":{"main":[[{"node":"SHOP DAU - XONG","type":"main","index":0}],[{"node":"SHOP ME BE - XONG","type":"main","index":0}],[{"node":"SHOP TINA - XONG","type":"main","index":0}]]},"SHOP DAU - XONG":{"main":[[{"node":"Google Drive3","type":"main","index":0}]]},"SHOP ME BE - XONG":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"SHOP TINA - XONG":{"main":[[{"node":"Google Drive2","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"SHOP ME BE2","type":"main","index":0}]]},"Google Drive2":{"main":[[{"node":"SHOP TINA1","type":"main","index":0}]]},"SHOP DAU":{"main":[[{"node":"Replace Me","type":"main","index":0},{"node":"HTTP Request1","type":"main","index":0}]]},"SHOP TINA1":{"main":[[{"node":"Replace Me","type":"main","index":0}]]},"Code6":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"SHOP ME BE2":{"main":[[{"node":"Replace Me","type":"main","index":0},{"node":"HTTP Request2","type":"main","index":0}]]},"Th√¥ng b√°o t·∫°o ·∫£nh":{"main":[[{"node":"binary data","type":"main","index":0}]]},"AI Agent1":{"main":[[{"node":"Get Url Image","type":"main","index":0}]]},"Google Gemini Chat Model2":{"ai_languageModel":[[{"node":"AI Agent1","type":"ai_languageModel","index":0}]]},"Link Face":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]},"Replace Me3":{"main":[[{"node":"Wait","type":"main","index":0}]]},"Switch1":{"main":[[{"node":"Replace Me3","type":"main","index":0}],[{"node":"HTTP Request BINARY","type":"main","index":0}],[{"node":"Replace Me","type":"main","index":0},{"node":"binary data1","type":"main","index":0}]]},"binary data":{"main":[[{"node":"Th√¥ng b√°o ƒêang t·∫°o ·∫£nh","type":"main","index":0}]]},"HTTP Request1":{"main":[[{"node":"t·∫°o xong SHOP DAU","type":"main","index":0}]]},"HTTP Request2":{"main":[[{"node":"Tao xong SHOP ME BE","type":"main","index":0}]]},"HTTP Request3":{"main":[[{"node":"Tao xong SHOP TINA","type":"main","index":0}]]},"binary data1":{"main":[[{"node":"Th√¥ng b√°o T·∫†O H√åNH L·ªñi","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"a547159e-2764-4dc7-a194-42549446c0b8","triggerCount":0,"shared":[{"createdAt":"2025-08-16T02:16:37.688Z","updatedAt":"2025-08-16T02:16:37.688Z","role":"workflow:owner","workflowId":"Pp1TCxr6az0azNfG","projectId":"Bsx4kBdHQHZGGC5J"}],"tags":[]}